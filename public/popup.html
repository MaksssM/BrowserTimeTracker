<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Zenith Dashboard Pro</title>
		<link rel="stylesheet" href="style.css" />
		<script src="lib/chart.umd.min.js"></script>
		<script src="lib/chartjs-adapter-date-fns.bundle.min.js"></script>
	</head>
	<body>
		<div class="glass-effect"></div>

		<div class="container">
			<div id="error-container" class="error-container"></div>

			<header class="header">
				<h1 class="title" data-i18n-key="headerTitle">Statistics</h1>
				<div class="controls">
					<select id="period-select">
						<option value="today" data-i18n-key="periodToday">Today</option>
						<option value="week" data-i18n-key="periodWeek">Week</option>
						<option value="month" data-i18n-key="periodMonth">Month</option>
						<option value="year" data-i18n-key="periodYear">Year</option>
					</select>

					<button
						id="export-button"
						title="Export data (CSV)"
						class="btn-icon tooltip-trigger"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="icon-download"
						>
							<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
							<polyline points="7 10 12 15 17 10" />
							<line x1="12" y1="15" x2="12" y2="3" />
						</svg>
					</button>

					<button
						id="lang-button"
						title="Language (EN/UA/ES/DE/FR)"
						class="tooltip-trigger"
					>
						EN
					</button>
					<div id="lang-menu" class="dropdown-menu"></div>

					<button
						id="theme-button"
						data-i18n-key-title="tooltipTheme"
						title="Switch theme"
						class="btn-icon tooltip-trigger"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="icon-palette"
						>
							<path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z" />
						</svg>
					</button>
					<div id="theme-menu" class="dropdown-menu"></div>

					<button
						id="categories-button"
						data-i18n-key-title="tooltipCategories"
						title="Manage website categories"
						class="btn-icon tooltip-trigger relative-container"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="icon-categories"
						>
							<rect x="3" y="3" width="7" height="7" />
							<rect x="14" y="3" width="7" height="7" />
							<rect x="14" y="14" width="7" height="7" />
							<rect x="3" y="14" width="7" height="7" />
						</svg>
						<span class="notification-dot"></span>
					</button>

					<button
						id="settings-button"
						title="Settings"
						class="btn-icon tooltip-trigger"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="icon-settings"
						>
							<path
								d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.09a2 2 0 0 1-1-1.74v-.47a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.39a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"
							/>
							<circle cx="12" cy="12" r="3" />
						</svg>
					</button>

					<button
						id="pause-button"
						data-i18n-key-title="tooltipPause"
						title="Pause/Resume tracking"
						class="btn-icon tooltip-trigger"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="pause icon-pause"
						>
							<circle cx="12" cy="12" r="10" />
							<line x1="10" y1="15" x2="10" y2="9" />
							<line x1="14" y1="15" x2="14" y2="9" />
						</svg>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="play icon-play"
						>
							<circle cx="12" cy="12" r="10" />
							<polygon points="10 8 16 12 10 16 10 8" />
						</svg>
					</button>
				</div>
			</header>

			<div class="main-grid">
				<div id="live" class="card">
					<div class="card-header">
						<div class="card-title-wrapper">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="card-icon"
							>
								<path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />
							</svg>
							<h3 class="card-title" data-i18n-key="cardTitleLive">Live Now</h3>
						</div>
						<span class="stats-badge pulse" data-i18n-key="statusLive"
							>LIVE</span
						>
					</div>
					<div class="card-content">
						<div class="live-header">
							<img id="live-favicon" src="" alt="" />
							<p id="live-hostname" data-i18n-key="statusLoading">Loading...</p>
						</div>
						<h2 id="live-timer">00:00:00</h2>
					</div>
				</div>

				<div id="summary" class="card">
					<div class="card-header">
						<div class="card-title-wrapper">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="card-icon"
							>
								<circle cx="12" cy="12" r="10" />
								<polyline points="12 6 12 12 16 14" />
							</svg>
							<h3 class="card-title" data-i18n-key="cardTitleSummary">
								Total Time Spent
							</h3>
						</div>
					</div>
					<div class="card-content">
						<h3 id="summary-title"></h3>
						<h2 id="summary-time">00:00:00</h2>
						<p id="comparison-insight">...</p>
						<div
							id="productivity-score-container"
							style="
								margin-top: 12px;
								padding-top: 12px;
								border-top: 1px solid var(--border);
							"
						>
							<div
								style="
									display: flex;
									justify-content: space-between;
									align-items: center;
									margin-bottom: 4px;
								"
							>
								<span
									style="
										font-size: 12px;
										font-weight: 500;
										color: var(--text-muted);
									"
									data-i18n-key="productivityScore"
									>Productivity Score</span
								>
								<span
									id="productivity-score-value"
									style="
										font-size: 14px;
										font-weight: 700;
										color: var(--text-main);
									"
									>0%</span
								>
							</div>
							<div
								style="
									height: 6px;
									background: var(--surface-hover);
									border-radius: 3px;
									overflow: hidden;
								"
							>
								<div
									id="productivity-bar"
									style="
										height: 100%;
										width: 0%;
										background: var(--success);
										transition: width 0.5s ease;
									"
								></div>
							</div>
						</div>
					</div>
				</div>

				<div id="sites" class="card">
					<div class="card-header">
						<div class="card-title-wrapper">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 24 24"
								fill="none"
								stroke="currentColor"
								stroke-width="2"
								stroke-linecap="round"
								stroke-linejoin="round"
								class="card-icon"
							>
								<circle cx="12" cy="12" r="10" />
								<line x1="2" y1="12" x2="22" y2="12" />
								<path
									d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
								/>
							</svg>
							<h3 class="card-title" data-i18n-key="cardTitleSites">
								Top Sites
							</h3>
						</div>
						<div class="chart-toggle sites-toggle">
							<button
								id="sites-daily"
								class="active"
								data-i18n-key="chartDaily"
							>
								Days
							</button>
							<button id="sites-weekly" data-i18n-key="chartWeekly">
								Weeks
							</button>
							<button id="sites-monthly" data-i18n-key="chartMonthly">
								Months
							</button>
							<button id="sites-yearly" data-i18n-key="chartYearly">
								Years
							</button>
						</div>
					</div>
					<div class="card-content">
						<div id="sites-list-container"></div>
					</div>
				</div>
			</div>

			<div id="trend" class="card">
				<div class="card-header">
					<div class="card-title-wrapper">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="card-icon"
						>
							<polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
							<polyline points="17 6 23 6 23 12" />
						</svg>
						<h3 class="card-title" data-i18n-key="cardTitleTrend">
							Activity Trend
						</h3>
					</div>
				</div>
				<div class="card-content">
					<div class="chart-toggle">
						<button id="chart-daily" class="active" data-i18n-key="chartDaily">
							Days
						</button>
						<button id="chart-weekly" data-i18n-key="chartWeekly">Weeks</button>
						<button id="chart-monthly" data-i18n-key="chartMonthly">
							Months
						</button>
						<button id="chart-yearly" data-i18n-key="chartYearly">Years</button>
					</div>
					<div class="chart-container">
						<canvas id="activity-chart"></canvas>
					</div>
				</div>
			</div>

			<div id="distribution" class="card">
				<div class="card-header">
					<div class="card-title-wrapper">
						<svg
							xmlns="http://www.w3.org/2000/svg"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="card-icon"
						>
							<path d="M21.21 15.89A10 10 0 1 1 8 2.83" />
							<path d="M22 12A10 10 0 0 0 12 2v10z" />
						</svg>
						<h3 class="card-title" data-i18n-key="cardTitleDistribution">
							Time Distribution
						</h3>
					</div>
				</div>
				<div class="card-content">
					<div class="chart-toggle">
						<button id="dist-daily" class="active" data-i18n-key="chartDaily">
							Days
						</button>
						<button id="dist-weekly" data-i18n-key="chartWeekly">Weeks</button>
						<button id="dist-monthly" data-i18n-key="chartMonthly">
							Months
						</button>
						<button id="dist-yearly" data-i18n-key="chartYearly">Years</button>
					</div>
					<div class="chart-container">
						<canvas id="distribution-chart"></canvas>
					</div>
				</div>
			</div>
		</div>

		<div id="settings-modal" class="modal">
			<div class="modal-content">
				<div class="modal-header">
					<h2 data-i18n-key="settingsTitle">Settings</h2>
					<button class="modal-close">&times;</button>
				</div>
				<div class="modal-body">
					<div class="settings-group">
						<label for="timezone-select" data-i18n-key="timezone"
							>Timezone</label
						>
						<select
							id="timezone-select"
							style="
								width: 100%;
								padding: 6px;
								border-radius: 4px;
								border: 1px solid var(--glass-border, rgba(255, 255, 255, 0.1));
								background: var(--glass-bg, rgba(20, 20, 20, 0.6));
								color: var(--text-primary, #f5f5f5);
							"
						>
							<option value="auto" data-i18n-key="timezoneAuto">
								Auto (Browser)
							</option>
							<option value="UTC">UTC (GMT+0)</option>
							<option value="UTC+1">UTC+1</option>
							<option value="UTC+2">UTC+2</option>
							<option value="UTC+3">UTC+3</option>
							<option value="UTC+4">UTC+4</option>
							<option value="UTC+5">UTC+5</option>
							<option value="UTC+6">UTC+6</option>
							<option value="UTC+7">UTC+7</option>
							<option value="UTC+8">UTC+8</option>
							<option value="UTC+9">UTC+9</option>
							<option value="UTC+10">UTC+10</option>
							<option value="UTC+11">UTC+11</option>
							<option value="UTC+12">UTC+12</option>
							<option value="UTC-1">UTC-1</option>
							<option value="UTC-2">UTC-2</option>
							<option value="UTC-3">UTC-3</option>
							<option value="UTC-4">UTC-4</option>
							<option value="UTC-5">UTC-5</option>
							<option value="UTC-6">UTC-6</option>
							<option value="UTC-7">UTC-7</option>
							<option value="UTC-8">UTC-8</option>
							<option value="UTC-9">UTC-9</option>
							<option value="UTC-10">UTC-10</option>
							<option value="UTC-11">UTC-11</option>
							<option value="UTC-12">UTC-12</option>
						</select>
					</div>

					<div class="settings-group">
						<button
							id="manage-categories-btn"
							class="btn-secondary"
							data-i18n-key="manageCategories"
							style="width: 100%; margin-top: 4px"
						>
							Manage Categories
						</button>
					</div>

					<div
						class="settings-group"
						style="font-size: 13px; color: var(--text-secondary, #888)"
					>
						<a
							href="https://github.com/MaksssM/BrowserTimeTracker"
							target="_blank"
							style="color: var(--accent-color, #4f46e5)"
							>GitHub Project</a
						>
						<p id="usage-days" style="margin: 8px 0 0 0; font-weight: bold">
							...
						</p>
					</div>

					<div
						class="settings-group"
						style="
							padding: 12px;
							background: linear-gradient(
								135deg,
								rgba(99, 102, 241, 0.1) 0%,
								rgba(236, 72, 153, 0.1) 100%
							);
							border-radius: 8px;
							border-left: 3px solid #6366f1;
						"
					>
						<div
							style="
								display: flex;
								align-items: center;
								gap: 8px;
								margin-bottom: 8px;
							"
						>
							<span style="font-size: 18px">üè∑Ô∏è</span>
							<strong style="font-size: 13px" data-i18n-key="siteCategories"
								>Site Categories</strong
							>
						</div>
						<p
							style="
								margin: 0;
								font-size: 12px;
								color: var(--text-secondary, #888);
								line-height: 1.4;
							"
							data-i18n-key="organizeWebsites"
						>
							Organize your websites into categories (Work, Learning,
							Entertainment, Social, Shopping, Other). Tap the Categories button
							in the header to manage them.
						</p>
					</div>

					<div class="settings-group" style="font-size: 13px">
						<strong data-i18n-key="howToUse">How to use?</strong>
						<ul style="margin: 4px 0 0 16px; padding: 0">
							<li data-i18n-key="howToUse1">
								Open extension to see statistics.
							</li>
							<li data-i18n-key="howToUse2">
								Use tabs to view top sites, trends, time distribution.
							</li>
							<li data-i18n-key="howToUse3">Set up break reminders.</li>
						</ul>
					</div>

					<div class="settings-group">
						<button
							id="clear-data-btn"
							class="btn-secondary"
							style="width: 100%; margin-top: 4px"
							data-i18n-key="clearDataBtn"
						>
							Clear all data
						</button>
						<p
							style="
								font-size: 12px;
								color: var(--text-secondary, #888);
								margin: 4px 0 0 0;
							"
							data-i18n-key="clearDataWarning"
						>
							Warning: this action will delete all statistics!
						</p>
					</div>
					<div class="settings-group">
						<button
							id="feedback-btn"
							class="btn-secondary"
							style="width: 100%; margin-top: 4px"
							data-i18n-key="feedbackBtn"
						>
							Leave feedback
						</button>
					</div>

					<div class="settings-group">
						<a
							href="https://t.me/your_support_channel"
							target="_blank"
							rel="noopener"
							style="
								color: var(--accent-color, #4f46e5);
								text-decoration: underline;
								font-size: 13px;
							"
							data-i18n-key="supportFeedback"
						>
							Support / Feedback
						</a>
					</div>
				</div>
				<div class="modal-footer">
					<button
						id="reset-theme-btn"
						class="btn-secondary"
						data-i18n-key="resetTheme"
					>
						Reset
					</button>
					<button
						id="save-settings-btn"
						class="btn-primary"
						data-i18n-key="saveSettings"
					>
						Save
					</button>
				</div>
			</div>
		</div>

		<!-- –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ -->
		<div id="categories-modal" class="modal">
			<div class="modal-content modal-large">
				<div class="modal-header">
					<h2 data-i18n-key="manageCategories">Manage Site Categories</h2>
					<button class="modal-close" id="categories-modal-close">
						&times;
					</button>
				</div>
				<div class="modal-body flex-column">
					<!-- –°–µ–∫—Ü—ñ—è –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å–∞–π—Ç—ñ–≤ -->
					<div class="add-site-section">
						<div class="section-label" data-i18n-key="addNewSite">
							Add New Site
						</div>
						<div class="input-row">
							<input
								type="text"
								id="new-site-input"
								placeholder="example.com or example.org"
								class="modern-input"
								data-i18n-key-placeholder="placeholderSite"
							/>
						</div>
						<div class="category-buttons-grid" id="category-buttons-container">
							<!-- –î–∏–Ω–∞–º–∏—á–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
						</div>
					</div>

					<!-- –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —Å —Å–∞–π—Ç–∞–º–∏ -->
					<div class="categories-list-section">
						<div class="section-label" data-i18n-key="yourCategories">
							Your Categories
						</div>
						<div id="categories-list" class="categories-list"></div>
					</div>
				</div>
				<div class="modal-footer">
					<button
						id="categories-close-btn"
						class="btn-primary"
						data-i18n-key="close"
					>
						Close
					</button>
				</div>
			</div>
		</div>

		<script type="module" src="popup.js"></script>
	</body>
</html>
